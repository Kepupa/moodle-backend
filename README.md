–∂–æ–ø–∞ 
–ú–æ–¥—É–ª—å 1
–£–¥–∞–ª—è–µ–º —Å—Ç–æ–ª—ã, –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
DROP TABLE IF EXISTS material_types CASCADE;
DROP TABLE IF EXISTS product_types CASCADE;
DROP TABLE IF EXISTS products CASCADE;
DROP TABLE IF EXISTS workshops CASCADE;
DROP TABLE IF EXISTS product_workshops CASCADE;


CREATE TABLE material_types (
  material_type_id SERIAL PRIMARY KEY UNIQUE, –¥–µ–ª–∞–µ–º –∫–ª—é—á —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
  material_type VARCHAR(100) UNIQUE NOT NULL, –≤–∞—Ä—á–∞—Ä –º–∞–∫—Å 100 —Å–∏–º–≤–æ–ª–æ–≤
  percent_of_loss NUMERIC(4,2)  –Ω—É–º–µ—Ä–∏–∫, (–æ–±—â–µ–µ –∫–æ–ª–≤–æ —Ü–∏—Ñ—Ä, —Å–∫–æ–∫ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)
);

CREATE TABLE product_types (
  product_type_id SERIAL PRIMARY KEY UNIQUE,
  product_type VARCHAR(100) UNIQUE NOT NULL,
  coef_type_product NUMERIC(4,2)
);

CREATE TABLE products (
  product_id SERIAL PRIMARY KEY UNIQUE,
  product_type_id INT REFERENCES product_types(product_type_id), (—Å—Å—ã–ª–∞–µ–º—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É)
  product_name VARCHAR(100) UNIQUE NOT NULL,
  articul INTEGER UNIQUE NOT NULL,
  min_cost_for_partner NUMERIC(9,2),
  material_type_id INT REFERENCES material_types(material_type_id)
);

CREATE TABLE workshops (
  workshop_id SERIAL PRIMARY KEY UNIQUE,
  workshop_name VARCHAR(100) UNIQUE NOT NULL,
  workshop_type VARCHAR(100) NOT NULL,
  workshop_members INTEGER 
);

CREATE TABLE product_workshops(
  product_id INT REFERENCES products(product_id),
  workshop_id INT REFERENCES workshops(workshop_id),
  time_todo NUMERIC(2,2) NOT NULL
);

--------------------------
SELECT
    pt.product_type,
    p.product_name,
    p.articul,
    p.min_cost_for_partner,
    mt.material_type,
    ROUND(SUM(pw.time_todo)) AS manufacture_time
üîç –ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
SELECT ‚Äî –≥–æ–≤–æ—Ä–∏–º, –∫–∞–∫–∏–µ –ø–æ–ª—è –º—ã —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Ç–∞–±–ª–∏—Ü.

pt.product_type ‚Äî –±–µ—Ä—ë–º —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã product_types.

p.product_name ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã products.

p.articul ‚Äî –∞—Ä—Ç–∏–∫—É–ª.

p.min_cost_for_partner ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞.

mt.material_type ‚Äî —Ç–∏–ø –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –∏–∑ —Ç–∞–±–ª–∏—Ü—ã material_types.

ROUND(SUM(pw.time_todo)) AS manufacture_time:

pw.time_todo ‚Äî –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Ü–µ—Ö—É –Ω–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.

SUM(...) ‚Äî —Å—É–º–º–∏—Ä—É–µ–º –æ–±—â–µ–µ –≤—Ä–µ–º—è –ø–æ –≤—Å–µ–º —Ü–µ—Ö–∞–º.

ROUND(...) ‚Äî –æ–∫—Ä—É–≥–ª—è–µ–º –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–µ—Å–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∏–ª–æ—Å—å 2.67 ‚Üí —Å—Ç–∞–Ω–µ—Ç 3).

AS manufacture_time ‚Äî –¥–∞—ë–º —ç—Ç–æ–º—É —Å—Ç–æ–ª–±—Ü—É –Ω–æ–≤–æ–µ –∏–º—è: "–≤—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è".

sql
FROM products p
üîç –ß—Ç–æ —ç—Ç–æ:
–¢–∞–±–ª–∏—Ü–∞ products ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –∏–¥—ë–º.

p ‚Äî —ç—Ç–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º (alias), —á—Ç–æ–±—ã –±—ã–ª–æ –∫–æ—Ä–æ—á–µ –ø–∏—Å–∞—Ç—å, –≤–º–µ—Å—Ç–æ products.product_name –ø–∏—à–µ–º p.product_name.

sql
JOIN product_types pt ON p.product_type_id = pt.product_type_id
üîç –ß—Ç–æ —ç—Ç–æ:
–°–æ–µ–¥–∏–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É products —Å —Ç–∞–±–ª–∏—Ü–µ–π product_types –ø–æ –ø–æ–ª—é product_type_id.

JOIN –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —ç—Ç–æ INNER JOIN, —Ç–æ –µ—Å—Ç—å –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–π —Ç–∏–ø.

pt ‚Äî –ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è product_types.

sql
JOIN material_types mt ON p.material_type_id = mt.material_type_id
üîç –ß—Ç–æ —ç—Ç–æ:
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ: –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ–º —Ç–∞–±–ª–∏—Ü—É —Å —Ç–∏–ø–∞–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (material_types) –ø–æ –∫–ª—é—á—É material_type_id.

sql
LEFT JOIN product_workshops pw ON p.product_id = pw.product_id
üîç –ß—Ç–æ —ç—Ç–æ:
LEFT JOIN ‚Äî –±–µ—Ä—ë–º –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã —Å —Ü–µ—Ö–∞–º–∏.

–≠—Ç–æ –≤–∞–∂–Ω–æ, –µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ —Ü–µ—Ö–∞–º.

pw ‚Äî –ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è product_workshops.

sql
GROUP BY pt.product_type, p.product_name, p.articul, p.min_cost_for_partner, mt.material_type
üîç –ß—Ç–æ —ç—Ç–æ:
–ë–µ–∑ GROUP BY —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (SUM, AVG, COUNT, –∏ —Ç.–¥.).

–ü–æ—ç—Ç–æ–º—É –º—ã –≥—Ä—É–ø–ø–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º, –∫—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Å—á–∏—Ç–∞–µ–º SUM(...).

–ü–æ—á–µ–º—É –≤—Å–µ —ç—Ç–∏ –ø–æ–ª—è –≤ GROUP BY?
SQL —Ç—Ä–µ–±—É–µ—Ç: –≤—Å—ë, —á—Ç–æ –Ω–µ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ SUM()), ‚Äî –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ GROUP BY.

üßæ –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Ç–∞–±–ª–∏—Ü–∞:
–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞	–ù–∞–∑–≤–∞–Ω–∏–µ	–ê—Ä—Ç–∏–∫—É–ª	–ú–∏–Ω. —Ü–µ–Ω–∞	–ú–∞—Ç–µ—Ä–∏–∞–ª	–í—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è
–°—Ç–æ–ª	–õ–æ—Ñ—Ç 3	12345	3500.00	–î–°–ü	4
–°—Ç—É–ª	–°–æ–ª–æ 1	33333	800.00	–§–∞–Ω–µ—Ä–∞	2

‚ú® –ü–æ–¥—Å–∫–∞–∑–∫–∏:
–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è, –∑–∞–º–µ–Ω–∏ SUM(...) –Ω–∞ AVG(...).

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —Ü–µ—Ö–æ–≤ —É—á–∞—Å—Ç–≤—É—é—Ç ‚Äî –¥–æ–±–∞–≤—å COUNT(pw.workshop_id).

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –ø—Ä–æ–¥—É–∫—Ç–∞ –∏–ª–∏ —Ü–µ–Ω–µ —á–µ—Ä–µ–∑ WHERE.

–í–∞—Ä–∏–∞–Ω—Ç—ã –∏ –∑–∞–º–µ–Ω—ã:
‚úÖ 1. –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è
ROUND(AVG(pw.time_todo)) AS avg_time
üìò AVG() ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ü–µ—Ö–∞—Ö)

‚úÖ 2. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ / –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
MAX(pw.time_todo) AS max_time,
MIN(pw.time_todo) AS min_time
‚úÖ 3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã—Ö —Ü–µ—Ö–æ–≤
COUNT(pw.workshop_id) AS workshops_count
–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç, –≤ —Å–∫–æ–ª—å–∫–∏—Ö —Ü–µ—Ö–∞—Ö —É—á–∞—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞

‚úÖ 4. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –ø—Ä–æ–¥—É–∫—Ç–∞
WHERE pt.product_type = '–°—Ç–æ–ª'
‚úÖ 5. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–µ
WHERE p.min_cost_for_partner > 3000
–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å:
WHERE pt.product_type = '–®–∫–∞—Ñ' AND p.min_cost_for_partner < 5000
‚úÖ 6. –£–º–Ω–æ–∂–µ–Ω–∏–µ –∏ –¥–µ–ª–µ–Ω–∏–µ
(p.min_cost_for_partner * 1.2) AS cost_with_markup,
(p.min_cost_for_partner / 100) AS price_in_hundreds
–ú–æ–∂–Ω–æ –¥–µ–ª–∏—Ç—å, —É–º–Ω–æ–∂–∞—Ç—å, —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏ –≤—ã—á–∏—Ç–∞—Ç—å –ø—Ä—è–º–æ –≤ SELECT

‚úÖ 7. –°—É–º–º–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∏—Å–µ–ª
–î–æ–ø—É—Å—Ç–∏–º, —É —Ç–µ–±—è –µ—Å—Ç—å length, width, height, –∏ —Ç—ã —Ö–æ—á–µ—à—å –∏—Ö —Å–ª–æ–∂–∏—Ç—å:
(p.length + p.width + p.height) AS dimensions_sum
–ò–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–π—Ç–∏ –æ–±—ä—ë–º:

(p.length * p.width * p.height) AS volume
‚úÖ 8. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–∏–ø—É –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—É
–ï—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∞—Ä—Ç–∏–∫—É–ª—ã:
GROUP BY pt.product_type, mt.material_type
–¢–æ–≥–¥–∞ –ø–æ–ª—É—á–∏—à—å –æ–±–æ–±—â—ë–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –Ω–∞–ø—Ä–∏–º–µ—Ä, "–≤—Å–µ —Å—Ç–æ–ª—ã –∏–∑ –î–°–ü ‚Äî 20 —á–∞—Å–æ–≤".

‚úÖ 9. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
ORDER BY manufacture_time DESC  -- –ø–æ —É–±—ã–≤–∞–Ω–∏—é
ORDER BY min_cost_for_partner ASC -- –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Ü–µ–Ω—ã
‚úÖ 10. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫
LIMIT 10
üß† –ö–æ–º–±–∏–Ω–∏—Ä—É–π:
–ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ª—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–Ω–∞ > 3000 –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏:
SELECT ...
FROM ...
WHERE pt.product_type = '–°—Ç–æ–ª' AND p.min_cost_for_partner > 3000
GROUP BY ...
ORDER BY manufacture_time DESC
LIMIT 5;

sql —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ—Ä

SELECT 
    partners.partner_name,           -- –∏–º—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞
    partners.director_name,          -- –∏–º—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞
    partners.partner_phone,          -- —Ç–µ–ª–µ—Ñ–æ–Ω
    partners.rating,                 -- —Ä–µ–π—Ç–∏–Ω–≥
    sales_summary.total_sales,       -- –æ–±—â–∞—è —Å—É–º–º–∞ –ø—Ä–æ–¥–∞–∂
    partners_types.type_name,        -- —Ç–∏–ø –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ç–æ–≤–∏–∫, —Ä–æ–∑–Ω–∏—á–Ω—ã–π –∏ —Ç.–¥.)
 CASE
        WHEN total_sales <= 10000 THEN 0
        WHEN total_sales > 10000 AND total_sales <= 50000 THEN 5
        WHEN total_sales > 50000 AND total_sales <= 300000 THEN 10
        ELSE 15
    END AS discount
FROM (
    SELECT 
        id_partner, 
        SUM(product_amount) AS total_sales
    FROM 
        partner_products
    GROUP BY 
        id_partner
    ORDER BY 
        id_partner
) AS sales_summary

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ò–∑ —Ç–∞–±–ª–∏—Ü—ã partner_products —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è:

id_partner ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞—Ä—Ç–Ω—ë—Ä–∞

SUM(product_amount) ‚Äî —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–ª–∏ —Å—É–º–º–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏)

–≠—Ç–æ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–∞—Ä—Ç–Ω—ë—Ä—É ‚Üí –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ sales_summary, –≥–¥–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —É–∫–∞–∑–∞–Ω–∞ –æ–±—â–∞—è —Å—É–º–º–∞ –ø—Ä–æ–¥–∞–∂ (total_sales)

JOIN partners ON sales_summary.id_partner = partners.id
JOIN partners_types ON partners.id_type_partner = partners_types.id;
–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:

–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É partners:

–ø–æ –∫–ª—é—á—É id_partner –∏–∑ sales_summary –∏ id –∏–∑ partners

–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É partners_types:

–ø–æ id_type_partner –∏–∑ partners –∏ id –∏–∑ partners_types

–µ—Å—Ç—å, –ø–æ–±–µ–¥–∞
–í–ê–ü–í–©–ü–†–í–ê–ü–©–í–ü–í–ü–í–ü–í
![image](https://github.com/user-attachments/assets/55bdc60a-5113-46d2-b69b-42d0911b3ac8)
 –°–ö–£–õ–¨ –°–ö–†–ò–ü–¢

–µ—Å—Ç—å, –ø–æ–±–µ–¥–∞
  —â–∞ –ø–æ—Ç–æ–º —Å–∫—Ä–∏–ø—Ç –±–∞—Ö–Ω—É, –ø–æ–∫–∞ –æ–±—ä—è–Ω—è—é—Ç –∑–∞–¥–∞–Ω–∏–µ —Ç–æ –∫—Ç–æ—Ä–µ —è —Ç–µ–±–µ —Å–∫–∏–¥—ã–≤–∞–ª

–ø—Ä—è–º –æ–¥–∏–Ω–≤ –æ–¥–∏–Ω –∑–∞–¥–∞–Ω–∏–µ –ª–æ–ª

–µ—Å–ª–∏ —á–æ –ø–∏—à–∏, —è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω –æ–±–Ω–æ–≤–ª—è—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤–µ –ø—Ä–∏—Ö–æ–¥–∏


–≤–æ—Ç —Å–∫—Ä–∏–ø—Ç–∏–∫

CREATE TABLE material_types (
	id SERIAL PRIMARY KEY,
	material_type VARCHAR(100),
	percent_of_loss NUMERIC(4,2),
);

CREATE TABLE product_types (
	id SERIAL PRIMARY KEY,
	product_type VARCHAR(100),
	koef_product_type NUMERIC(4,2)
);

CREATE TABLE products(
	id SERIAL PRIMARY KEY,
	product_type_id INT REFERENCES product_types(id),
	product_name VARCHAR(200),
	articul INTEGER,
	minimal_cost_for_partner NUMERIC(10,2),
	roll_width NUMERIC (4,2)
);

CREATE TABLE materials (
	id SERIAL PRIMARY KEY,
	material_name VARCHAR(200),
	material_type_id INT REFERENCES material_types(id),
	price_per_unit_of_material NUMERIC(10,2),
	quantity_in_stock NUMERIC(10,2),
	min_quantity (10,2),
	quantity_per_package INTEGER,
	unit_of_measurement VARCHAR(100)
);

CREATE TABLE product_materials(
	product_id INT REFERENCES products(id),
	material_id INT REFERENCES materials(id),
	required_amount_of_material NUMERIC(4,2)
);

unit_of_measurement VARCHAR(100) –ø–æ –∏–¥–µ–∏ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–¥–µ–ª–∞—Ç—å, –Ω–æ —Å–∫–∞–∑–∞–ª–∏ –º–æ–∂–Ω–æ –Ω–µ –¥–µ–ª–∞—Ç—å



–º–Ω–µ —á–æ—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º?

–≤—Å–ø–æ–º–Ω–∏ —á–µ —è —Ç–µ–±–µ –≤ —Ç–≥ –ø–∏—Å–∞–ª –ø—Ö–∞–∞—Ö–ø, –Ω—É –≤–∞—â–µ –±—ã–ª–æ –±—ã –∫–ª–∞—Å—Å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–ª. –ù—É –∏ –≤ –∑–∞–≤–∏—Å–º–æ—Å—Ç–∏ –æ—Ç —ç—Ç–æ–≥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –∑–∞–¥–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ –∏–¥–µ–∏ —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –Ω–∞ –ø–µ—Ä–µ—Ä—ã–≤–µ —Å–≤–µ—Ä–∏–º, –Ω–æ –Ω–∞–∫–∏–¥–∞–π –ª—É—á—à–µ —â–∞ 
—á–µ –Ω–∏—Ç—å



–±–ª—è —è –¥—É–º–∞–ª —Ç—ã —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª, —É–∂–µ 2 —á–∞—Å–∞ –ø—Ä–æ—à–ª–æ

–≤–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, —Å–∫–æ—Ä–æ –ø–µ—Ä–µ—Ä—ã–≤, —É–≤–∏–¥–∏–º—Å—è

CREATE TABLE material_types (
	id SERIAL PRIMARY KEY,
	material_type VARCHAR(100),
	percent_of_loss NUMERIC(4,2)
);

CREATE TABLE product_types (
	id SERIAL PRIMARY KEY,
	product_type VARCHAR(100),
	koef_product_type NUMERIC(4,2)
);

CREATE TABLE products(
	id SERIAL PRIMARY KEY,
	product_type_id INT REFERENCES product_types(id),
	product_name VARCHAR(200),
	articul INTEGER,
	minimal_cost_for_partner NUMERIC(10,2),
	roll_width NUMERIC (4,2)
);

CREATE TABLE materials (
	id SERIAL PRIMARY KEY,
	material_name VARCHAR(200),
	material_type_id INT REFERENCES material_types(id),
	price_per_unit_of_material NUMERIC(10,2),
	quantity_in_stock NUMERIC(10,2),
	min_quantity NUMERIC(10,2),
	quantity_per_package INTEGER,
	unit_of_measurement VARCHAR(100)
);

CREATE TABLE product_materials(
	product_id INT REFERENCES products(id),
	material_id INT REFERENCES materials(id),
	required_amount_of_material NUMERIC(4,2)
);



—â–∞ —è —É —Å–µ–±—è —Ç—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª—é –ø–∞–π—á–∞—Ä–º –∏ –ø—Ä–æ–≤–µ—Ä—é –∏ —Å–∫–∏–Ω—É

–∞ —Å–∫—Ä–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±—É–¥–µ—Ç?

–æ–Ω —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ —è —Ç–µ–±–µ —Å–∫–∏–¥—ã–≤–∞–ª, –ø—Ä—è–º –∞–≤–±—Å–æ–ª—é—Ç–Ω–æ. –ó–∞–¥–∞–Ω–∏–µ –°—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ—Å—á–∏—Ç–∞—Ç—å –∏—Å—Ö–æ–¥—è –∏–∑ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

—Å–ª—ã—à —Ç—É—Ç 6 –∫—É—Ç–µ, –∏ —Ä—É–≥–∞–µ—Ç—Å—è

Traceback (most recent call last):
  File "/home/student2/pyqt_project/main.py", line 118, in <module>
    window = MainWindow()
             ^^^^^^^^^^^^
  File "/home/student2/pyqt_project/main.py", line 97, in __init__
    title.setFont(QFont('Arial', 14, QFont.bold()))
                                     ^^^^^^^^^^^^
TypeError: bold(self): first argument of unbound method must have type 'QFont' 




–í–º–µ—Å—Ç–æ
python
title.setFont(QFont('Arial', 14, QFont.bold()))
–Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å
python
title.setFont(QFont('Arial', 14, QFont.Weight.Bold))


–Ω–∞–ø–∏—à–∏ –∏—Å–ø—Ä–∞–≤–∏–ª–æ—Å—å –∏–ª–∏ –Ω–µ—Ç

–î–∞, –Ω–æ —Ç–µ–ø–µ—Ä—å —ç—Ç–æ

  File "/home/student2/pyqt_project/main.py", line 96, in __init__
    title.setAlignment(Qt.AlignCenter)
                       ^^^^^^^^^^^^^^
AttributeError: type object 'Qt' has no attribute 'AlignCenter'





.setAlignment(Qt.AlignmentFlag.AlignCenter)
–≤–æ –Ω–∞ —ç—Ç–æ –∏–∑–º–µ–Ω–∏ –∏ –Ω–∞–ø–∏—à–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏–ª–∏ –µ—â–µ –æ—à–∏–±–∫–∏
—è —Å–æ–∑–¥–∞–ª —Ç–µ—Ç—Å3.–ø–∞–π –∏ –æ–Ω —Ñ—É–ª –¥–ª—è 6 –≤–µ—Ä—Å–∏–∏, –Ω–∞–ø–∏—à–∏ –ø–æ–ª—É—á–∏–ª–æ—Å—å –∏–ª–∏ –Ω–µ—Ç

–ø–æ–±–µ–¥–∞ —á—É–≤–∞–∫, —Å–ø—Å

—á–µ —Ç–æ—Ç –∂–µ –≤–∞—Ä–∏–∫? 

–∫—Ä—á –æ—Ç–æ–π–¥—É –Ω–∞ 20-30 –º–∏–Ω –ø–æ–∫–∞


–Ω—É –≤—Ä–æ–¥–µ —Ä–∞–±–æ—á–∏–π

–¥–∞, –≤—Å—ë –Ω–æ—Ä–º)

–ê —á–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–æ—à–µ–ª, –∫–æ—Ç–æ—Ä—ã–π —Ç—É—Ç –≤–Ω–∞—á–∞–ª–µ –≤ —Ä–µ–¥–º–∏?)


ERROR: invalid input syntax for type integer: "20,8,2.7"
CONTEXT: COPY product_workshops, line 2, column product_id: "20,8,2.7"
–∑–∞–≥—É–≥–ª–∏ –æ—à–∏–±–∫—É –ø–∂

–±—Ä–∞—Ç–∏—à, –ø–æ—Å—Ç–≥—Ä–µ—Å –Ω–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—è—Ç—ã–µ, –∏ –ø–æ—á–µ–º—É —É —Ç–µ–±—è –≤ id 2.7???? –¢—ã –ø–æ—Ö–æ–¥—É –Ω–∞–ø–æ—Ä—Ç–∞—á–∏–ª —Å –∏–º–ø–æ—Ä—Ç–æ–º —Ç–∞–±–ª–∏—Ü, —É —Ç–µ–±—è —Ç–∞–º –Ω–∏–≥–¥–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—è—Ç—ã—Ö. –û–Ω –∂–µ —Ç–µ–±–µ –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ –æ–∂–∏–¥–∞–µ—Ç —á–∏—Å–ª–æ –∞ —Ç—ã –µ–º—É 2.7. –¢—ã –≤–∞—â–µ —á–µ—Ç –∂–µ—Å—Ç–∫–æ –≤ csv –ø—Ä–æ–µ–±–ª–∞—Å—è, —â–∞ —É –Ω–µ–∏—Ä–æ–Ω–∫–∏ —Å–ø—Ä–æ—à—É

–° –∫–∞–∫–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—à—å —Ç–∞–±–ª–∏—Ü—ã, –∞ —Å –∫–∞–∫–∏–º–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—à—å –≤ –ø–æ—Å—Ç–≥—Ä–µ—Å–µ?

—É –º–µ–Ω—è —Ç–∞–º –Ω–µ—Ç –∑–∞—è–ø—Ç—ã—Ö —Ñ–∞–π–ª–µ, —Ç–∞–º —Å —Ç–æ—á–∫–∞–º–∏

–ù—É –µ—â–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—è—Ç—ã—Ö —è –∏–º–µ—é –≤–≤–∏–¥—É, —á—Ç–æ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ç–æ—á–∫–∏

–°–∫–∏–Ω—å —Å–∫–∏—Ä–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –∏–º–ø–æ—Ä—Ç–∞ 

–ë–ª—è –Ω—É –µ—Å–ª–∏ –≤–∞—â–µ —Ö–∞–Ω–∞ –±—É–¥–µ—Ç, —Ç–æ —Ä–∞–∑ —É–∂ –≤–∞—Ä–∏–∫ —è —É–∂–µ —ç—Ç–æ—Ç –¥–µ–ª–∞–ª, —è –º–æ–≥—É —Ç–µ–±–µ —Å–≤–æ–∏ csv –∑–∞–≥—Ä—É–∑–∏—Ç—å, —Ç–∞–º –ø–æ—Ç–æ–º –ø–æ–¥—Å—Ç–∞–≤–∏—à—å –∏—Ö –∏ —Å–∫—Ä–∏–ø—Ç, –Ω–æ —ç—Ç–æ –∫—Ä–∞–π–Ω–∏—ã–π –≤–∞—Ä–∏–∫ 

–û—Ç–≤–µ—Ç –æ—Ç –Ω–µ–∏—Ä–æ–Ω–∫–∏

–û—à–∏–±–∫–∞ invalid input syntax for type integer: "20,8,2.7" –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ PostgreSQL –ø—ã—Ç–∞–µ—Ç—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ "20,8,2.7" –≤ —Å—Ç–æ–ª–±–µ—Ü —Ç–∏–ø–∞ INTEGER, –∞ —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:

"20,8,2.7" ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∏—Å–µ–ª, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –∑–∞–ø—è—Ç—ã–º–∏.

–¶–µ–ª–æ–µ —á–∏—Å–ª–æ (INTEGER) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ø–∏—Å–∫–æ–º —á–∏—Å–µ–ª –∏–ª–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã–º —á–∏—Å–ª–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.7 —Ç–æ–∂–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ –¥–ª—è INTEGER).

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã
–ù–µ–≤–µ—Ä–Ω—ã–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ CSV: —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∑–∞–ø—è—Ç—É—é –∫–∞–∫ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–æ –≤–∞—à–∏ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–æ–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–∞–ø—è—Ç—ã–µ (–≤–æ–∑–º–æ–∂–Ω–æ, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è ‚Äî —ç—Ç–æ —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –≤ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö Excel-—Ñ–∞–π–ª–∞—Ö).

–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, 2.7 ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, –∞ —Å—Ç–æ–ª–±–µ—Ü product_id –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (INTEGER).

–ß—Ç–æ –¥–µ–ª–∞—Ç—å
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CSV-—Ñ–∞–π–ª, –æ—Å–æ–±–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∫—É 2, –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

–°—Ç–æ–ª–±–µ—Ü product_id —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞: –Ω–∞–ø—Ä–∏–º–µ—Ä, 20, 8, –Ω–æ –Ω–µ 2.7 –∏–ª–∏ "20,8,2.7".

–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Å—Ç–æ–ª–±—Ü–æ–≤ ‚Äî —Ç–∞–±—É–ª—è—Ü–∏—è –∏–ª–∏ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π, –µ—Å–ª–∏ –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –∑–∞–ø—è—Ç—ã–µ.

–ü—Ä–∏–º–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è COPY:

yaml
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
20	1234	2024-01-01
–ì–¥–µ:

20 ‚Äî —ç—Ç–æ product_id (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ),

1234 ‚Äî –¥—Ä—É–≥–æ–π —á–∏—Å–ª–æ–≤–æ–π —Å—Ç–æ–ª–±–µ—Ü,

2024-01-01 ‚Äî –¥–∞—Ç–∞.

–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
–ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å CSV:

–û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏–ª–∏ Excel.

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

–°—Ç–æ–ª–±—Ü—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ—á–∫–∞–º–∏ —Å –∑–∞–ø—è—Ç–æ–π, –µ—Å–ª–∏ –≤ –∑–Ω–∞—á–µ–Ω–∏—è—Ö –µ—Å—Ç—å –∑–∞–ø—è—Ç—ã–µ).

product_id —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –Ω–∞ —Å—Ç—Ä–æ–∫—É.

–ï—Å–ª–∏ –≤—ã –ø—Ä–∏—à–ª—ë—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–ª–∏ —Ñ–∞–π–ª CSV, –≤—ã–∑–≤–∞–≤—à–∏–π –æ—à–∏–±–∫—É, —è –ø–æ–º–æ–≥—É —Ç–æ—á–Ω–µ–µ.





https://github.com/Xgimro/examH
–≤–æ—Ç —Ç–µ–±–µ —Å—Å—ã–ª–∫–∞ —Ç–∞–º —Å–∫—Ä–∏–ø—Ç –∏ —Ñ–∞–π–ª—ã, —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ç –≤–æ—Ä–∫—à–æ–ø—Å

–ø—Ö–∞—Ö–∞ —Ä–µ–±—è—Ç, —É –≤–∞—Å —ç–∫—Å–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã –Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –≤—ã –±–ª—è—Ç—å –≤–µ–∑–¥–µ —Å—Ç–∞–≤–∏—Ç–µ ; –∞ –≤ –ø—Ä–æ–¥—É–∫—Ç –≤–æ—Ä–∫—à–æ–ø—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è –µ–±–∞—à–∏—Ç–µ –∑–∞–ø—è—Ç—ã–µ, —è—Å–µ–Ω —Ö—É–π –æ–Ω –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ –≤–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–º–ø–æ—Ä—Ç–∞, –ª–∏–±–æ –≤ –∏–º–ø–æ—Ä—Ç–µ –ø–æ–º–µ–Ω—è–π—Ç–µ –Ω–∞ –∑–∞–ø—è—Ç—ã–µ, –ª–∏–±–æ –≤ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏—Ö —ç–∫—Å–µ–ª—è —Å ;

 –µ—â–µ —Å–æ–≤–µ—Ç —Å—Ä–µ–∑–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –≥–æ–≤–æ—Ä—è—Ç —Ç–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Ä–æ–¥–µ. –¢—É—Ç —É–∂–µ —Å–∞–º —Ä–µ—à–∞–π 
